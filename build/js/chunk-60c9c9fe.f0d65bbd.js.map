{"version":3,"sources":["webpack:///./src/views/main/childComps/admin/adminManagement.vue?61da","webpack:///./src/utils/isPc.js","webpack:///./src/views/main/childComps/admin/child/zmTable.vue","webpack:///./src/views/main/childComps/admin/child/zmTable.vue?c133","webpack:///./src/network/admin.js","webpack:///./node_modules/@element-plus/icons-vue/dist/es/edit.mjs","webpack:///./node_modules/@element-plus/icons-vue/dist/es/delete.mjs","webpack:///./src/views/main/childComps/admin/child/search.config.js","webpack:///./src/views/main/childComps/admin/adminManagement.vue","webpack:///./src/views/main/childComps/admin/adminManagement.vue?67f6","webpack:///./node_modules/@element-plus/icons-vue/dist/es/_virtual/plugin-vue_export-helper.mjs","webpack:///./src/components/zmForm-UI/zmForm.vue","webpack:///./src/components/zmForm-UI/zmForm.vue?57cb","webpack:///./src/views/main/childComps/admin/child/zmTable.vue?63e6"],"names":["isPC","userAgentInfo","navigator","userAgent","Agents","flag","v","length","indexOf","tableList","prop","label","minWidth","isFold","slotName","handleCurrentChange","currentRow","console","log","__exports__","register","newUserData","request","url","data","method","res","alert","remove","username","params","update","updateUserData","name","password","permissions","isPasswordChange","_sfc_main","class","width","height","viewBox","xmlns","fill","d","_sfc_render","_ctx","_cache","$props","$setup","$data","$options","edit","_delete","formItems","field","type","placeholder","options","title","value","newUserItems","updateUserInfo","store","getUserData","dispatch","dataInfo","state","admin","userData","formData","handleResetClick","handleSearchClick","isRemoveUserDialog","willingRmoveUsername","BoforeDeleteUser","row","removeUser","setTimeout","isUpdateUser","editUser","updateInfo","dislogVisible","showDialog","collayout","xl","registerUser","dialogWidth","_export_sfc","sfc","props","target","__vccOpts","key","val","labelWidth","itemStyle","padding"],"mappings":"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","file":"js/chunk-60c9c9fe.f0d65bbd.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./adminManagement.vue?vue&type=style&index=0&id=76d6990e&scoped=true&lang=css\"","export const isPC = () => {\r\n    // 判断是否处理pc端\r\n  var userAgentInfo = navigator.userAgent;\r\n  var Agents = [\"Android\", \"iPhone\",\r\n      \"SymbianOS\", \"Windows Phone\",\r\n      \"iPad\", \"iPod\"];\r\n  var flag = true;\r\n  for (var v = 0; v < Agents.length; v++) {\r\n      if (userAgentInfo.indexOf(Agents[v]) > 0) {\r\n          flag = false;\r\n          break;\r\n      }\r\n  }\r\n  return flag;\r\n}","<template>\r\n  <div class=\"zm-table\">\r\n    <!-- 表头 -->\r\n    <div class=\"header\">\r\n      <slot name=\"header\">\r\n        <div class=\"title\">用户列表</div>\r\n        <div class=\"handler\">\r\n          <slot name=\"headerHandler\"></slot>\r\n        </div>\r\n      </slot>\r\n    </div>\r\n\r\n    <el-table :data=\"dataInfo\" style=\"width: 100%\" @current-change=\"handleCurrentChange\" highlight-current-row>\r\n      <!-- 选择列 -->\r\n      <!-- <el-table-column type=\"selection\" width=\"80\" align=\"center\" /> -->\r\n      <!-- 序号列 -->\r\n      <el-table-column type=\"index\" label=\"序号\" align=\"center\" width=\"80\"/>\r\n      <!-- 其他列 -->\r\n      <template v-for=\"propItem in tableList\" :key=\"propItem.prop\">\r\n        <!-- 注：每一个el-table-column相当于一列 -->\r\n        <el-table-column \r\n        :prop=\"propItem.prop\" \r\n        :label=\"propItem.label\" \r\n        width=\"proItem.minWidth\" \r\n        align=\"center\"\r\n        :show-overflow-tooltip=\"propItem.isFold\">\r\n          <!-- 默认插槽 -->\r\n          <template #default=\"scope\">\r\n            <slot :name=\"propItem.slotName\" :row=\"scope.row\">\r\n              {{ scope.row[propItem.prop] }}\r\n            </slot>\r\n          </template>\r\n        </el-table-column>\r\n      </template>\r\n\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from \"vue\";\r\n// import { isPC } from \"@/utils/isPc\";\r\ndefineProps({\r\n  dataInfo: {\r\n    type: Array,\r\n    default() {\r\n      return [];\r\n    },\r\n  },\r\n});\r\n// 展示数据\r\nconst tableList = [\r\n  { prop: \"username\", label: \"用户账号\", minWidth: \"120\", isFold: true },\r\n  { prop: \"name\", label: \"昵称\", minWidth: \"100\", isFold: true },\r\n  { prop: \"permissions\", label: \"权限等级\", minWidth: \"80\", isFold: true },\r\n  { prop: \"regTime\", label: \"创建时间\", minWidth: \"120\", slotName: \"regTime\", isFold: true },\r\n  { prop: \"action1\", label: \"操作\", minWidth: \"120\", slotName: \"action1\", isFold: false },\r\n  { prop: \"action1\", label: \"操作\", minWidth: \"120\", slotName: \"action2\", isFold: false },\r\n];\r\n\r\n// 查看哪一个行被选中\r\nconst handleCurrentChange = (currentRow) => {\r\n  console.log(\"哪一个选项被相中\", currentRow);\r\n};\r\n\r\n// 移动端适配\r\n// let ispc = isPC();\r\n</script>\r\n\r\n<style scoped>\r\n.zm-table {\r\n  padding: 20px;\r\n  border-top: 20px solid #f5f5f5;\r\n}\r\n\r\n.handler {\r\n  align-items: center;\r\n}\r\n.header {\r\n  display: flex;\r\n  height: 45px;\r\n  padding: 0 5px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n</style>\r\n","import script from \"./zmTable.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./zmTable.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./zmTable.vue?vue&type=style&index=0&id=67bda4e0&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\毕业项目\\\\ic_lechouchou\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67bda4e0\"]])\n\nexport default __exports__","import { request } from './request'\r\n\r\n// 注册\r\nexport const register = async(newUserData) => {\r\n  const res = await request({\r\n    url: 'admin_user/register',\r\n    data: newUserData,\r\n    method: 'post'\r\n  })\r\n  if(!res) {\r\n    alert(\"注册失败，请检查输入是否有误\")\r\n  }else {\r\n    alert(\"注册成功\")\r\n  }\r\n}\r\n// 删除用户\r\nexport const remove = async(username) => {\r\n  const res = await request({\r\n    url: 'admin_user',\r\n    params: {\r\n      username\r\n    },\r\n    method: 'delete'\r\n  })\r\n  if(!res) {\r\n    alert(\"更新失败，请检查输入是否有误\")\r\n  }else {\r\n    alert(\"修改成功\")\r\n  }\r\n}\r\n\r\n// 更新用户信息\r\nexport const update = async(updateUserData) => {\r\n  const res = await request({\r\n    url: 'admin_user',\r\n    params: {\r\n      username: updateUserData.username,\r\n      name: updateUserData.name,\r\n      password: updateUserData.password,\r\n      permissions: updateUserData.permissions,\r\n      isPasswordChange: updateUserData.isPasswordChange\r\n    },\r\n    method: 'put'\r\n  })\r\n  if(!res) {\r\n    alert(\"更新失败，请检查输入是否有误\")\r\n  }else {\r\n    alert(\"修改成功\")\r\n  }\r\n}","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Edit\"\n});\nconst _hoisted_1 = {\n  class: \"icon\",\n  width: \"200\",\n  height: \"200\",\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M832 512a32 32 0 1164 0v352a32 32 0 01-32 32H160a32 32 0 01-32-32V160a32 32 0 0132-32h352a32 32 0 010 64H192v640h640V512z\"\n}, null, -1);\nconst _hoisted_3 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 10-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 010 135.808l-331.84 331.84a32 32 0 01-18.112 9.088L436.8 623.68a32 32 0 01-36.224-36.224l15.104-105.6a32 32 0 019.024-18.112l331.904-331.84a96 96 0 01135.744 0z\"\n}, null, -1);\nconst _hoisted_4 = [\n  _hoisted_2,\n  _hoisted_3\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_4);\n}\nvar edit = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { edit as default };\n","import { defineComponent, openBlock, createElementBlock, createElementVNode } from 'vue';\nimport _export_sfc from './_virtual/plugin-vue_export-helper.mjs';\n\nconst _sfc_main = defineComponent({\n  name: \"Delete\"\n});\nconst _hoisted_1 = {\n  class: \"icon\",\n  width: \"200\",\n  height: \"200\",\n  viewBox: \"0 0 1024 1024\",\n  xmlns: \"http://www.w3.org/2000/svg\"\n};\nconst _hoisted_2 = /* @__PURE__ */ createElementVNode(\"path\", {\n  fill: \"currentColor\",\n  d: \"M160 256H96a32 32 0 010-64h256V95.936a32 32 0 0132-32h256a32 32 0 0132 32V192h256a32 32 0 110 64h-64v672a32 32 0 01-32 32H192a32 32 0 01-32-32V256zm448-64v-64H416v64h192zM224 896h576V256H224v640zm192-128a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32zm192 0a32 32 0 01-32-32V416a32 32 0 0164 0v320a32 32 0 01-32 32z\"\n}, null, -1);\nconst _hoisted_3 = [\n  _hoisted_2\n];\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"svg\", _hoisted_1, _hoisted_3);\n}\nvar _delete = /* @__PURE__ */ _export_sfc(_sfc_main, [[\"render\", _sfc_render]]);\n\nexport { _delete as default };\n","export const formItems = [\r\n  { \r\n    field: 'username',\r\n    type: 'input',\r\n    label: '用户账号',\r\n    placeholder: '请输入用户账号'\r\n  },\r\n  { \r\n    field: 'name',\r\n    type: 'input',\r\n    label: '用户昵称',\r\n    placeholder: '请输入用户昵称'\r\n  },\r\n  { \r\n    field: 'permissions',\r\n    type: 'select',\r\n    label: '权限等级',\r\n    placeholder: '请选择权限等级',\r\n    options: [\r\n      { title: '1', value: '高级权限' },\r\n      { title: '2', value: '普通权限' },\r\n    ]\r\n  }\r\n]\r\n\r\nexport const newUserItems = [\r\n  { \r\n    field: 'username',\r\n    type: 'input',\r\n    label: '用户账号',\r\n    placeholder: '请输入手机号码'\r\n  },\r\n  { \r\n    field: 'name',\r\n    type: 'input',\r\n    label: '用户昵称',\r\n    placeholder: '请输入用户昵称'\r\n  },\r\n  { \r\n    field: 'password',\r\n    type: 'input',\r\n    label: '密码',\r\n    placeholder: '6-12位字符'\r\n  }\r\n]\r\n\r\nexport const updateUserInfo = [\r\n  { \r\n    field: 'name',\r\n    type: 'input',\r\n    label: '昵称',\r\n    placeholder: '修改昵称'\r\n  },\r\n  { \r\n    field: 'password',\r\n    type: 'password',\r\n    label: '新密码',\r\n    placeholder: '请输入新密码'\r\n  },\r\n  { \r\n    field: 'permissions',\r\n    type: 'select',\r\n    label: '权限等级',\r\n    placeholder: '请选择权限等级',\r\n    options: [\r\n      { title: '高级权限', value: '1' },\r\n      { title: '普通权限', value: '2' },\r\n    ]\r\n  }\r\n]","<template>\r\n  <div class=\"admin-register\">\r\n    <ZmForm :formItems=\"formItems\" :formData=\"formData\">\r\n      <!-- 标题 -->\r\n      <template #header>\r\n        <h2 class=\"form-title\">用户管理</h2>\r\n      </template>\r\n\r\n      <!-- 尾部 -->\r\n      <template #footer>\r\n        <div class=\"form-button\">\r\n          <el-button @click=\"handleResetClick\">重置</el-button>\r\n          <el-button type=\"primary\" @click=\"handleSearchClick\">搜索</el-button>\r\n        </div>\r\n      </template>\r\n    </ZmForm>\r\n\r\n    <!-- 表单 -->\r\n    <zmTable :dataInfo=\"dataInfo\">\r\n      <!-- 表头列 -->\r\n      <template #headerHandler>\r\n        <el-button type=\"primary\" @click=\"showDialog\">创建用户</el-button>\r\n      </template>\r\n      <!-- 更新时间列 -->\r\n      <template #regTime=\"scope\">\r\n        <div>{{ $filter.formatTime(scope.row.regTime) }}</div>\r\n      </template>\r\n      <!-- 操作列 -->\r\n      <template #action1=\"scope\">\r\n        <el-button type=\"text\" @click=\"editUser(scope.row)\">\r\n          <el-icon size=\"16\"><Edit /></el-icon>\r\n          修改\r\n        </el-button>\r\n      </template>\r\n      <!-- 操作列 -->\r\n      <template #action2=\"scope\">\r\n        <el-button type=\"text\" @click=\"BoforeDeleteUser(scope.row)\">\r\n          <el-icon size=\"16\"><Delete /></el-icon>\r\n          删除\r\n        </el-button>\r\n      </template>\r\n    </zmTable>\r\n\r\n    <!-- 创建用户对话框 -->\r\n    <div class=\"dialog\">\r\n      <el-dialog v-model=\"dislogVisible\" title=\"注册用户\" :width=\"dialogWidth\" center>\r\n        <ZmForm :formItems=\"newUserItems\" :formData=\"newUserData\" :collayout=\"collayout\" />\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"dislogVisible = false\">取消</el-button>\r\n            <el-button @click=\"registerUser\" type=\"primary\" plain>确认</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n    <!-- 修改的对话框 -->\r\n    <div class=\"dialog\">\r\n      <el-dialog v-model=\"isUpdateUser\" title=\"信息修改\" :width=\"dialogWidth\" center>\r\n        <ZmForm :formItems=\"updateUserInfo\" :formData=\"updateUserData\" :collayout=\"collayout\" />\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"isUpdateUser = false\">取消</el-button>\r\n            <el-button @click=\"updateInfo\" type=\"primary\" plain>确认</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n\r\n    <!-- 确认删除的对话框 -->\r\n    <div class=\"dialog\">\r\n      <el-dialog v-model=\"isRemoveUserDialog\" title=\"删除用户\" :width=\"dialogWidth\" center>\r\n        <span>是否确定删除该用户</span>\r\n        <template #footer>\r\n          <span class=\"dialog-footer\">\r\n            <el-button @click=\"isRemoveUserDialog = false\">取消</el-button>\r\n            <el-button @click=\"removeUser\" type=\"primary\" plain>确认</el-button>\r\n          </span>\r\n        </template>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport ZmForm from \"@/components/zmForm-UI/zmForm.vue\";\r\nimport zmTable from \"./child/zmTable.vue\";\r\nimport { register, update, remove } from \"@/network/admin\";\r\nimport { Delete, Edit } from \"@element-plus/icons-vue\";\r\nimport { reactive, computed, ref } from \"vue\";\r\nimport { useStore } from \"vuex\";\r\nimport { isPC } from \"@/utils/isPc\";\r\nimport { formItems, newUserItems, updateUserInfo } from \"./child/search.config.js\";\r\n\r\n// 一、搜索框的逻辑代码\r\n// 获取用户数据\r\nconst store = useStore();\r\nconst getUserData = () => {\r\n  store.dispatch(\"admin/getUserDataAction\");\r\n};\r\ngetUserData();\r\nconst dataInfo = computed(() => store.state.admin.userData);\r\n\r\n// 输入框中双向绑定的数据(搜索框与创建用户)\r\nconst formData = reactive({\r\n  username: \"\",\r\n  name: \"\",\r\n  permissions: \"\",\r\n});\r\n// 重置\r\nconst handleResetClick = () => {\r\n  formData.username = \"\";\r\n  formData.name = \"\";\r\n  formData.permissions = \"\";\r\n  getUserData();\r\n};\r\n//搜索\r\nconst handleSearchClick = () => {\r\n  console.log(\"搜索\");\r\n};\r\n\r\n// 二、表格的逻辑代码\r\n// 删除\r\nlet isRemoveUserDialog = ref(false);\r\nlet willingRmoveUsername = ref(\"\");\r\nconst BoforeDeleteUser = (row) => {\r\n  // 获取用户账号,并根据账号去服务器进行删除\r\n  let { username } = row;\r\n  willingRmoveUsername.value = username;\r\n  isRemoveUserDialog.value = true;\r\n};\r\nconst removeUser = () => {\r\n  remove(willingRmoveUsername.value);\r\n  isRemoveUserDialog.value = false;\r\n  setTimeout(() => {\r\n    //更新\r\n    getUserData();\r\n  }, 1000);\r\n};\r\n\r\n\r\n// 编辑\r\nconst updateUserData = reactive({\r\n  username: \"\",\r\n  name: \"\",\r\n  password: \"\",\r\n  permissions: \"\",\r\n  row: \"\",\r\n  isPasswordChange: false,\r\n});\r\nconst isUpdateUser = ref(false);\r\nconst editUser = (row) => {\r\n  isUpdateUser.value = true;\r\n  const { name, permissions, password, username } = row;\r\n  (updateUserData.name = name), (updateUserData.permissions = permissions);\r\n  updateUserData.username = username;\r\n  updateUserData.password = password;\r\n  updateUserData.row = row;\r\n};\r\nconst updateInfo = () => {\r\n  isUpdateUser.value = false;\r\n  // 判断用户是否改了密码\r\n  if (updateUserData.password !== updateUserData.row.password) {\r\n    updateUserData.isPasswordChange = true;\r\n  }\r\n  console.log(\"---\", updateUserData);\r\n  update(updateUserData);\r\n  setTimeout(() => {\r\n    //更新\r\n    getUserData();\r\n  }, 1000);\r\n};\r\n\r\n// 三、对话框逻辑(创建用户)\r\nlet dislogVisible = ref(false);\r\nconst showDialog = () => {\r\n  dislogVisible.value = true;\r\n};\r\nconst newUserData = reactive({\r\n  username: \"\",\r\n  name: \"\",\r\n  password: \"\",\r\n});\r\nconst collayout = {\r\n  xl: 1,\r\n};\r\n// 注册用户\r\nconst registerUser = async () => {\r\n  dislogVisible.value = false;\r\n  register(newUserData);\r\n  setTimeout(() => {\r\n    //更新\r\n    getUserData();\r\n  }, 1000);\r\n};\r\n// 四、适配移动端\r\nlet dialogWidth = \"30%\";\r\nif (!isPC()) {\r\n  dialogWidth = \"80%\";\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.form-title {\r\n  padding-top: 20px;\r\n}\r\n.form-button {\r\n  text-align: right;\r\n  padding: 0 80px 20px 0;\r\n}\r\n</style>\r\n","import script from \"./adminManagement.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./adminManagement.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./adminManagement.vue?vue&type=style&index=0&id=76d6990e&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\毕业项目\\\\ic_lechouchou\\\\node_modules\\\\@vue\\\\cli-service\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76d6990e\"]])\n\nexport default __exports__","var _export_sfc = (sfc, props) => {\n  const target = sfc.__vccOpts || sfc;\n  for (const [key, val] of props) {\n    target[key] = val;\n  }\n  return target;\n};\n\nexport { _export_sfc as default };\n","<template>\r\n  <div class=\"zm-form\">\r\n    <!-- 头部插槽 -->\r\n    <slot name=\"header\"></slot>\r\n    <!-- 表单部分 -->\r\n    <el-form :label-width=\"labelWidth\">\r\n      <el-row>\r\n        <template v-for=\"item in formItems\" :key=\"item.label\">\r\n          <el-col  v-bind=\"collayout\">\r\n            <el-form-item :label=\"item.label\" :style=\"itemStyle\">\r\n              <!-- v-if决定是否展示文本输入，还是密码输入 -->\r\n              <template v-if=\"item.type === 'input' || item.type === 'password'\">\r\n                <el-input\r\n                  :placeholder=\"item.placeholder\"\r\n                  :show-password=\"item.type === 'password'\"\r\n                  v-model=\"formData[`${item.field}`]\"\r\n                />\r\n              </template>\r\n              <!-- 决定是否展示多选框 -->\r\n              <template v-else-if=\"item.type === 'select'\">\r\n                <el-select :placeholder=\"item.placeholder\" style=\"width: 100%\" v-model=\"formData[`${item.field}`]\">\r\n                  <el-option v-for=\"option in item.options\" :key=\"option.value\" :value=\"option.value\">{{\r\n                    option.title\r\n                  }}</el-option>\r\n                </el-select>\r\n              </template>\r\n              <!-- 决定是否显示时间范围 -->\r\n              <template v-else-if=\"item.type === 'datepicker'\">\r\n                <el-date-picker\r\n                  style=\"width: 100%\"\r\n                  v-bind=\"item.otherOptions\"\r\n                  v-model=\"formData[`${item.field}`]\"\r\n                ></el-date-picker>\r\n              </template>\r\n              <!-- 决定是否显示按范围搜索 -->\r\n              <template v-else-if=\"item.type === 'countpicker'\">\r\n                <span>\r\n             <el-input\r\n                  style=\"width: 40%\"\r\n                  :placeholder=\"item.placeholder1\"\r\n                  v-model=\"formData[`${item.field1}`]\"\r\n                />\r\n                &nbsp;至&nbsp;\r\n                <el-input\r\n                  style=\"width: 40%\"\r\n                  :placeholder=\"item.placeholder2\"\r\n                  v-model=\"formData[`${item.field2}`]\"\r\n                />\r\n                </span>\r\n              </template>\r\n            </el-form-item>\r\n          </el-col>\r\n        </template>\r\n      </el-row>\r\n    </el-form>\r\n    <!-- 尾部插槽 -->\r\n    <slot name=\"footer\"></slot>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineProps } from \"vue\";\r\nimport { isPC } from \"@/utils/isPc\";\r\ndefineProps({\r\n  formItems: {\r\n    type: Array,\r\n    default() {\r\n      return [];\r\n    },\r\n  },\r\n  formData: {\r\n    type: Object,\r\n    required: true,\r\n  },\r\n  // 响应式表单\r\n  collayout: {\r\n    type: Object,\r\n    default() {\r\n      return {\r\n        xl: 6,\r\n        lg: 8,\r\n        md: 12,\r\n        sm: 24,\r\n        xs: 24,\r\n      };\r\n    },\r\n  },\r\n});\r\n// 部分样式\r\nlet labelWidth = \"70px\";\r\nlet itemStyle = {\r\n  padding: \"0px 10px\",\r\n};\r\n// 根据不同的平台改变样式\r\nif(isPC()) {\r\n  labelWidth = \"70px\";\r\n  itemStyle = {\r\n  padding: \"0px 40px\",\r\n};\r\n}\r\n\r\n</script>\r\n\r\n<style></style>\r\n","import script from \"./zmForm.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./zmForm.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--1-1!./zmTable.vue?vue&type=style&index=0&id=67bda4e0&scoped=true&lang=css\""],"sourceRoot":""}